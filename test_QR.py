import QR


def test_stable_gram_schmidt():
    matrix1 = [[1, 0, 1], [2, 1, 0]]
    matrix2 = [[4, 3], [5, 6]]
    assert QR.stable_Gram_Schmidt(matrix1) == [[[0.7071067811865475, 0.0, 0.7071067811865475],
                                                [(0.577350269189626 + 0j), (0.5773502691896258 + 0j),
                                                 (-0.5773502691896257 + 0j)]],
                                               [[1.4142135623730951, (1.414213562373095 + 0j)],
                                                [0, (1.7320508075688772 + 0j)]]]
    assert QR.stable_Gram_Schmidt(matrix2) == [
        [[0.8, 0.6000000000000001], [(-0.6000000000000008 + 0j), (0.7999999999999996 + 0j)]],
        [[5.0, (7.6000000000000005 + 0j)], [0, (1.7999999999999994 + 0j)]]]




def test_orthonormal_vectors():
    matrix1 = [[5,12],[15,25]]
    matrix2 = [[7,14],[20,27]]
    assert QR.orthonormal_vectors(matrix1) == [[0.38461538461538464, 0.9230769230769231], [(0.9230769230769229+0j), (-0.384615384615385+0j)]]
    assert QR.orthonormal_vectors(matrix2) == [[0.4472135954999579, 0.8944271909999159], [(0.8944271909999157+0j), (-0.4472135954999582+0j)]]

